<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ç”¨æˆ·ç™»å½•</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta name="robots" content="noindex, nofollow"/>
    <meta name="googlebot" content="noindex, nofollow"/>
    <link rel="stylesheet" href="/" th:href="@{/semantic-ui/semantic.css}">
    <script src="../../static/js/jquery_3.6.0.js" th:src="@{/js/jquery_3.6.0.js}"></script>
    <link rel="stylesheet" th:href="@{/fonts/style.css}">

</head>

<body>
<div class="container">
    <div class="forms-container">
        <div class="signin-signup">
            <form th:action="@{/login}" class="sign-in-form" method="post">
                <h2 class="title">ç”¨æˆ·ç™»å½•</h2>
                <div class="input-field">
                    <i class="user outline icon" style="padding-left: 15px;"></i>
                    <input type="text" name="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å"/>

                </div>

                <div class="input-field">
                    <i class="lock icon" style="padding-left: 15px;"></i>
                    <input type="password" name="password" placeholder="è¯·è¾“å…¥å¯†ç "/>
                </div>
                <div th:if="${message != null}" class="red ui header small" th:text="${message}"></div>
                <input type="submit" value="ç™»å½•" class="btn solid"/>

            </form>

            <form th:action="@{/user/regist}"  method="post" class="sign-up-form">
                <h2 class="title">ç”¨æˆ·æ³¨å†Œ</h2>
                <div class="input-field">
                    <i class="user outline icon" style="padding-left: 15px;"> </i>
                    <div>
                        <input type="text" id="username" name="username" placeholder="è¯·è¾“å…¥æ‚¨çš„ç”¨æˆ·å"/>
                        <i id="checkusername" style="margin-left: 100px;"></i>
                </div>
                </div>
                <div class="input-field">
                    <i class="address book outline icon " style="padding-left: 15px;"></i>
                    <div>
                        <input type="text" id="nickname" name="nickname" placeholder="è¯·è¾“å…¥æ‚¨çš„æ˜µç§°"/>
                        <i id="checkrnickname"  style="margin-left: 100px;"></i>
                    </div>
                </div>
                <div class="input-field">
                    <i class="lock icon" style="padding-left: 15px;"></i>
                    <div>
                        <input  id="password" type="password" name="password" placeholder="è¯·è¾“å…¥æ‚¨çš„å¯†ç "/>
                        <i id="checkpassword"  style="margin-left: 100px;"></i>
                    </div>
                </div>
                <div class="input-field">
                    <i class="lock icon" style="padding-left: 15px;"></i>
                    <div>
                        <input  type="password" id="password-repeat"  placeholder="è¯·å†æ¬¡è¾“å…¥æ‚¨çš„å¯†ç "/>
                        <i id="checkpassword-repeat"  style="margin-left: 100px;"></i>
                    </div>
                </div>

                <div class="input-field">
                    <i class="envelope icon"  style="padding-left: 15px;"></i>
                    <div>
                        <input type="email" id="email" name="userEmail" placeholder="è¯·è¾“å…¥æ‚¨çš„ç”µå­é‚®ç®±"/>
                        <i id="checkemail"  style="margin-left: 100px;"></i>
                    </div>
                </div>


                <input type="submit" id="signup" value="æ³¨å†Œ" class="btn"/>

            </form>
        </div>
    </div>

    <div class="panels-container">
        <div class="panel left-panel">
            <div class="content">
                <h3>è¿˜æ²¡æœ‰è´¦å·ï¼Ÿæ³¨å†Œä¸€ä¸ªï¼ï¼</h3>
                <p>
                    ä»…éœ€å¡«å–å°‘é‡ä¿¡æ¯å³å¯æ³¨å†ŒæˆåŠŸï¼Œæ¬¢è¿å“¦ğŸ’ğŸ’ğŸ’
                </p>
                <button class="btn transparent" id="sign-up-btn">æ³¨å†Œ</button>
            </div>
            <img th:src="@{/images/log.svg}" class="image" alt=""/>
        </div>

        <div class="panel right-panel">
            <div class="content">
                <h3>å·²æœ‰è´¦å·ï¼Ÿç‚¹å‡»ç™»å½•</h3>
                <p>
                    è‹¥æ‚¨å·²ç»æ‹¥æœ‰ä¸€ä¸ªè´¦å·ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œç™»å½•å“¦ğŸ’ğŸ’ğŸ’
                </p>

                <button class="btn transparent" id="sign-in-btn">ç”¨æˆ·ç™»å½•</button>
            </div>
            <img th:src="@{/images/register.svg}" class="image" alt=""/>
        </div>
    </div>
</div>
<script th:src="@{/js/script.js}"></script>
<script>
    $("#username").blur(function () {
        $.ajax({
            url: '/user/checkusername',
            type: 'post',
            data:{
                username: $("#username").val()
            },
            success: function (data) {
                if (data==='success' ) {
                    $("#checkusername").removeClass().addClass("thumbs down red outline icon");
                } else {
                    if ($("#username").val()!=='') {
                        $("#checkusername").removeClass().addClass("thumbs up green outline icon");
                    }
                }
            }
        })
    });
var pattern = /^[a-zA-Z0-9_-]{4,16}$/;
var emailPattern = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;
    $("#email").blur(function () {
        if (emailPattern.test($("#email").val())) {
            $("#checkemail").removeClass().addClass("thumbs up green outline icon");
        } else {
            $("#checkemail").removeClass().addClass("thumbs down red outline icon");
        }
    });
    $("#password").blur(function () {
        if (pattern.test($("#password").val())) {
            $("#checkpassword").removeClass().addClass("thumbs up green outline icon");
        } else {
            $("#checkpassword").removeClass().addClass("thumbs down red outline icon");
        }
    });
    $("#nickname").blur(function () {
        if (pattern.test($("#nickname").val())) {
            $("#checkrnickname").removeClass().addClass("thumbs up green outline icon");
        } else {
            $("#checkrnickname").removeClass().addClass("thumbs down red outline icon");
        }
    });
    $("#password-repeat").blur(function () {
        if ($("#password").val()!== $("#password-repeat").val()) {
            $("#checkpassword-repeat").removeClass().addClass("undo alternate red icon");
        } else {
            $("#checkpassword-repeat").removeClass().addClass("thumbs up green outline icon");
        }
    });
</script>
</body>


</html>